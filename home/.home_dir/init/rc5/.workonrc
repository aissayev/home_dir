if [ -n "$SOURCE_DIRECTORY" ] && [ -d $SOURCE_DIRECTORY ]; then
  for project_directory in `\ls $SOURCE_DIRECTORY`; do
    # workon a specific project (variant)
    alias cd-$project_directory="workon-$project_directory";
    # workon a specific project
    alias workon-$project_directory="workon $project_directory";
    # workon a specific project (short-hand)
    alias wo-$project_directory="workon-$project_directory";
    # virtualenv aliases
    for virtualenv_directory in `\ls -d $SOURCE_DIRECTORY/$project_directory/.env-* 2> /dev/null`; do
      # memoize the `virtualenv_version` it is used multiple times below
      virtualenv_version=`echo $(basename $virtualenv_directory) | sed s/\.env-//`;
      # workon a specific project (variant)
      alias cd-$project_directory-$virtualenv_version="workon-$project_directory-$virtualenv_version";
      # workon a specific project
      alias workon-$project_directory-$virtualenv_version="workon $project_directory $virtualenv_version";
      # workon a specific project (short-hand)
      alias wo-$project_directory-$virtualenv_version="workon-$project_directory-$virtualenv_version";
    done
  done
fi
